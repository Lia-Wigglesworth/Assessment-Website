/*! For license information please see tiptap-commands.9193dbf9be77b83a457e.js.LICENSE.txt */
(self.webpackChunkep_web=self.webpackChunkep_web||[]).push([["../libs/wp/@educationperfect/tiptap-commands/tiptap-commands"],{"./node_modules/@educationperfect/tiptap-commands/dist/commands.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{autoJoin:function(){return r.autoJoin},baseKeymap:function(){return r.baseKeymap},chainCommands:function(){return r.chainCommands},createParagraphNear:function(){return r.createParagraphNear},deleteSelection:function(){return r.deleteSelection},exitCode:function(){return r.exitCode},joinBackward:function(){return r.joinBackward},joinDown:function(){return r.joinDown},joinForward:function(){return r.joinForward},joinUp:function(){return r.joinUp},lift:function(){return r.lift},liftEmptyBlock:function(){return r.liftEmptyBlock},macBaseKeymap:function(){return r.macBaseKeymap},newlineInCode:function(){return r.newlineInCode},pcBaseKeymap:function(){return r.pcBaseKeymap},selectAll:function(){return r.selectAll},selectNodeBackward:function(){return r.selectNodeBackward},selectNodeForward:function(){return r.selectNodeForward},selectParentNode:function(){return r.selectParentNode},setBlockType:function(){return r.setBlockType},splitBlock:function(){return r.splitBlock},splitBlockKeepMarks:function(){return r.splitBlockKeepMarks},toggleMark:function(){return r.toggleMark},wrapIn:function(){return r.wrapIn},addListNodes:function(){return o.Cx},liftListItem:function(){return o.IB},sinkListItem:function(){return o.bw},splitListItem:function(){return o.s6},wrapInList:function(){return o.KI},textblockTypeInputRule:function(){return i.zK},wrappingInputRule:function(){return i.S0},insertText:function(){return insertText},markInputRule:function(){return markInputRule},markPasteRule:function(){return markPasteRule},nodeInputRule:function(){return nodeInputRule},pasteRule:function(){return pasteRule},removeMark:function(){return removeMark},replaceText:function(){return replaceText},setInlineBlockType:function(){return setInlineBlockType},splitToDefaultListItem:function(){return splitToDefaultListItem},toggleBlockType:function(){return toggleBlockType},toggleList:function(){return toggleList},toggleWrap:function(){return toggleWrap},updateMark:function(){return updateMark}});var r=n("./node_modules/prosemirror-commands/dist/index.es.js"),o=n("./node_modules/prosemirror-schema-list/dist/index.es.js"),i=n("./node_modules/prosemirror-inputrules/dist/index.es.js"),a=n("./node_modules/prosemirror-state/dist/index.es.js"),u=n("./node_modules/prosemirror-model/dist/index.es.js"),c=n("./node_modules/@educationperfect/tiptap-utils/dist/utils.esm.js"),l=n("./node_modules/prosemirror-utils/dist/index.js");function insertText(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,n){var r=t.selection.$from.pos.pos;return n(t.tr.insertText(e,r)),!0}}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function markInputRule(e,t,n){return new i.VK(e,(function(e,r,o,i){var a=n instanceof Function?n(r):n,u=e.tr,c=r.length-1,l=i,s=o;if(r[c]){var p=o+r[0].indexOf(r[c-1]),d=p+r[c-1].length-1,f=p+r[c-1].lastIndexOf(r[c]),m=f+r[c].length;if(function getMarksBetween(e,t,n){var r=[];return n.doc.nodesBetween(e,t,(function(e,t){r=[].concat(_toConsumableArray(r),_toConsumableArray(e.marks.map((function(n){return{start:t,end:t+e.nodeSize,mark:n}}))))})),r}(o,i,e).filter((function(e){return e.mark.type.excluded.find((function(e){return e.name===t.name}))})).filter((function(e){return e.end>p})).length)return!1;m<d&&u.delete(m,d),f>p&&u.delete(p,f),l=(s=p)+r[c].length}return u.addMark(s,l,t.create(a)),u.removeStoredMark(t),u}))}function nodeInputRule(e,t,n){return new i.VK(e,(function(e,r,o,i){var a=n instanceof Function?n(r):n,u=e.tr;return r[0]&&u.replaceWith(o-1,i,t.create(a)),u}))}function pasteRule(e,t,n){var r=function handler(r){var o=[];return r.forEach((function(r){if(r.isText){var i,a=r.text,u=0;do{if(i=e.exec(a)){var c=i.index,l=c+i[0].length,s=n instanceof Function?n(i[0]):n;c>0&&o.push(r.cut(u,c)),o.push(r.cut(c,l).mark(t.create(s).addToSet(r.marks))),u=l}}while(i);u<a.length&&o.push(r.cut(u))}else o.push(r.copy(handler(r.content)))})),u.Fragment.fromArray(o)};return new a.Plugin({props:{transformPasted:function transformPasted(e){return new u.Slice(r(e.content),e.openStart,e.openEnd)}}})}function markPasteRule(e,t,n){var r=function handler(r,o){var i=[];return r.forEach((function(r){if(r.isText){for(var a,u=r.text,c=0,l=!!r.marks.filter((function(e){return"link"===e.type.name}))[0];!l&&null!==(a=e.exec(u));)if(o.type.allowsMarkType(t)&&a[1]){var s=a.index,p=s+a[0].length,d=s+a[0].indexOf(a[1]),f=d+a[1].length,m=n instanceof Function?n(a):n;s>0&&i.push(r.cut(c,s)),i.push(r.cut(d,f).mark(t.create(m).addToSet(r.marks))),c=p}c<u.length&&i.push(r.cut(c))}else i.push(r.copy(handler(r.content,r)))})),u.Fragment.fromArray(i)};return new a.Plugin({props:{transformPasted:function transformPasted(e){return new u.Slice(r(e.content),e.openStart,e.openEnd)}}})}function removeMark(e){return function(t,n){var r=t.tr,o=t.selection,i=o.from,a=o.to,u=o.$from;if(o.empty){var l=(0,c.getMarkRange)(u,e);i=l.from,a=l.to}return r.removeMark(i,a,e),n(r)}}function replaceText(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,o){var i=r.selection,a=i.$from,u=i.$to,c=a.index(),l=e?e.from:a.pos,s=e?e.to:u.pos;return!!a.parent.canReplaceWith(c,c,t)&&(o&&o(r.tr.replaceWith(l,s,t.create(n))),!0)}}function setInlineBlockType(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var o=n.selection.$from,i=o.index();return!!o.parent.canReplaceWith(i,i,e)&&(r&&r(n.tr.replaceSelectionWith(e.create(t))),!0)}}function splitToDefaultListItem(e){return function(t,n){var r=t.selection,o=r.$from,i=r.$to,a=r.node;if(a&&a.isBlock||o.depth<2||!o.sameParent(i))return!1;var c=o.node(-1);if(c.type!=e)return!1;if(0==o.parent.content.size){if(2==o.depth||o.node(-3).type!=e||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){for(var l=u.Fragment.empty,s=o.index(-1)>0,p=o.depth-(s?1:2);p>=o.depth-3;p--)l=u.Fragment.from(o.node(p).copy(l));l=l.append(u.Fragment.from(e.createAndFill()));var d=t.tr.replace(o.before(s?null:-1),o.after(-3),new u.Slice(l,s?3:2,2));d.setSelection(t.selection.constructor.near(d.doc.resolve(o.pos+(s?3:2)))),n(d.scrollIntoView())}return!0}var f=i.pos==o.end()?c.contentMatchAt(o.indexAfter(-1)).defaultType:null,m=t.tr.delete(o.pos,i.pos),y=f&&[{type:e},{type:f}];return y||(y=[{type:e},null]),!!function canSplit(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var u=o.depth-1,c=n-2;u>i;u--,c--){var l=o.node(u),s=o.index(u);if(l.type.spec.isolating)return!1;var p=l.content.cutByIndex(s,l.childCount),d=r&&r[c]||l;if(d!=l&&(p=p.replaceChild(0,d.type.create(d.attrs))),!l.canReplace(s+1,l.childCount))return!1}var f=o.indexAfter(i),m=r&&r[0];return o.node(i).canReplaceWith(f,f,m?m.type:o.node(i+1).type)}(m.doc,o.pos,2,y)&&(n&&n(m.split(o.pos,2,y).scrollIntoView()),!0)}}function toggleBlockType(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(o,i,a){return(0,c.nodeIsActive)(o,e,n)?(0,r.setBlockType)(t)(o,i,a):(0,r.setBlockType)(e,n)(o,i,a)}}function isList(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list||e.type===t.nodes.todo_list}function toggleList(e,t){return function(n,r,i){var a=n.schema,u=n.selection,c=u.$from,s=u.$to,p=c.blockRange(s);if(!p)return!1;var d=(0,l.findParentNode)((function(e){return isList(e,a)}))(u);if(p.depth>=1&&d&&p.depth-d.depth<=1){if(d.node.type===e)return(0,o.IB)(t)(n,r,i);if(isList(d.node,a)&&e.validContent(d.node.content)){var f=n.tr;return f.setNodeMarkup(d.pos,e),r&&r(f),!1}}return(0,o.KI)(e)(n,r,i)}}function toggleWrap(e){return function(t,n,o){return(0,c.nodeIsActive)(t,e)?(0,r.lift)(t,n):(0,r.wrapIn)(e)(t,n,o)}}function updateMark(e,t){return function(n,r){var o=n.tr,i=n.selection,a=n.doc,u=i.from,l=i.to,s=i.$from;if(i.empty){var p=(0,c.getMarkRange)(s,e);u=p.from,l=p.to}return a.rangeHasMark(u,l,e)&&o.removeMark(u,l,e),o.addMark(u,l,e.create(t)),r(o)}}}}]);