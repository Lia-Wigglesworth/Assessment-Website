(self.webpackChunkep_web=self.webpackChunkep_web||[]).push([["../libs/wp/angular-gsapify-router/angular-gsapify-router"],{"./libs/angular-gsapify-router/1.1a/angular-gsapify-router.js":function(){!function(){"use strict";angular.module("hj.gsapifyRouter",["ui.router","ngAnimate"]).provider("gsapifyRouter",(function(){var t=this;t.transitions={},t.transitions.above={duration:1,ease:"Quart.easeInOut",css:{y:"-100%"}},t.transitions.below={duration:1,ease:"Quart.easeInOut",css:{y:"100%"}},t.transitions.left={duration:1,ease:"Quint.easeInOut",css:{x:"-100%"}},t.transitions.right={duration:1,ease:"Quint.easeInOut",css:{x:"100%"}},t.transitions.fade={duration:.5,css:{opacity:0}},t.transitions.fadeDelayed={duration:.5,delay:.5,css:{opacity:0}},t.transitions.none={duration:0,css:{}},t.defaults={enter:"none",leave:"none"},t.transition=function(e,r){t.transitions[e]=r},t.scrollRecallEvent="leaveSuccess",t.$get=["$rootScope","$state","$document","$injector","$window","$timeout","$q","$log",function(e,r,a,n,i,o,s,u){var getOpts=function(e,r,a,i){var o,s={transition:t.defaults["in"===i?"enter":"leave"],priority:0},parseOpts=function(t){var e={};return angular.isArray(t)||angular.isFunction(t)?e=n.invoke(t):angular.isObject(t)?(e=angular.extend(e,t),Object.keys(e).forEach((function(t){(angular.isArray(e[t])||angular.isFunction(e[t]))&&(e[t]=n.invoke(e[t]))}))):angular.isString(t)&&(e.transition=t),e},u=t.defaults[a][i];e.data&&(e.data["gsapifyRouter."+r]&&e.data["gsapifyRouter."+r][a]||null==r&&e.data.gsapifyRouter&&e.data.gsapifyRouter[a])?(o=e.data.gsapifyRouter?e.data.gsapifyRouter[a][i]:e.data["gsapifyRouter."+r][a][i])&&(s=parseOpts(o)):u&&(s=parseOpts(u));return s},getTransition=function(e){var r;return angular.isObject(e)&&(r=e),angular.isString(e)&&(r=t.transitions[e],(angular.isArray(r)||angular.isFunction(r))&&(r=n.invoke(r))),r},onMutate=function(t,e){o(e)};return{enter:function(t){var a=s.defer();t.css("visibility","hidden"),t.removeClass("gsapify-router-init"),t.addClass("gsapify-router-in-setup");var n,i=t.attr("ui-view")||t.attr("data-ui-view"),o=r.current,c=r.previous,l=getOpts(o,i,"enter","in"),f=getOpts(c,i,"leave","in"),g=(n=f.priority>l.priority?f:l).trigger||getOpts(c,i,"leave","out").trigger,p=getTransition(n.transition);if(!p)return u.error("gsapifyRouter: Invalid transition '"+p+"'");var v=p.name,d=p.duration,y=angular.copy(p);function go(){y.css&&0!==Object.keys(y.css).length&&0!==d?TweenMax.from(t,d,y):onMutate(0,(function(){y.onStart(),onMutate(0,(function(){y.onComplete()}))}))}if(v&&(t.attr("data-transition",v),delete y.css),y.onStart=function(){t.css("visibility","visible"),t.removeClass("gsapify-router-in-setup"),t.addClass("gsapify-router-in")},y.onComplete=function(){t.addClass("gsapify-router-in-end"),t.removeAttr("data-transition"),a.resolve({element:t,view:i})},g)var m=e.$on(g,(function(){m(),go()}));else go();return a.promise},leave:function(t){var a=s.defer();t.removeClass("gsapify-router-in gsapify-router-in-end"),t.addClass("gsapify-router-out-setup");var n,i=t.attr("ui-view")||t.attr("data-ui-view"),o=r.current,c=r.previous,l=getOpts(c,i,"leave","out"),f=getOpts(o,i,"enter","out"),g=(n=f.priority>l.priority?f:l).trigger||getOpts(o,i,"enter","in").trigger,p=getTransition(n.transition);if(!p)return u.error("gsapifyRouter: Invalid transition '"+p+"'");var v=p.name,d=p.duration,y=angular.copy(p);function go(){y.css&&0!==Object.keys(y.css).length&&0!==d?TweenMax.to(t,d,y):onMutate(0,(function(){y.onStart(),onMutate(0,(function(){y.onComplete()}))}))}if(v&&(t.attr("data-transition",v),delete y.css),y.onStart=function(){t.removeClass("gsapify-router-out-setup"),t.addClass("gsapify-router-out")},y.onComplete=function(){t.remove(),a.resolve({element:t,view:i})},g)var m=e.$on(g,(function(){m(),go()}));else go();return a.promise},transitions:t.transitions,defaults:t.defaults,scrollRecallEvent:t.scrollRecallEvent}}]})).config(["$stateProvider",function(t){t.state("gsapifyRouterBlankState",{})}]).run(["$state","$transitions",function(t,e){t.history=[],t.previous={},e.onSuccess({},(function(e){t.previous=e.$from(),t.previousParams=e.$from().params,t.history.push({name:e.$from().name,params:e.$from().params})}))}]).directive("gsapifyRouter",["$state","$timeout",function(t,e){return{priority:0,restrict:"C",link:function(r,a,n){n.$set("data-state",t.current.name),e((function(){a.addClass("gsapify-router-init")}))}}}]).service("scrollRecallService",["$rootScope","$window","$state","gsapifyRouter","$transitions",function(t,e,r,a,n){var i={view:null},getCurrentStateKey=function(){var t={name:r.current.name,params:r.params};return JSON.stringify(t)},o={},s=getCurrentStateKey();return n.onStart({},(function(t){i.view&&(o[s]={x:e.scrollX,y:e.scrollY})})),n.onSuccess({},(function(t){i.view&&(s=getCurrentStateKey())})),t.$on("gsapifyRouter:"+a.scrollRecallEvent,(function(t,a){if(i.view&&(a.attr("ui-view")||a.attr("data-ui-view"))===i.view){var n=r.history[r.history.length-2];if(n){var u=JSON.stringify(n);if(o[u]&&s===u)return void e.scrollTo(o[u].x,o[u].y)}e.scrollTo(0,0)}})),i}]).directive("scrollRecall",["scrollRecallService",function(t){return{priority:0,restrict:"A",link:function(e,r,a){t.view=a.uiView}}}]).animation(".gsapify-router",["$rootScope","gsapifyRouter",function(t,e){return{enter:function(r,a){return"gsapifyRouterBlankState"!==r.attr("data-state")&&(t.$broadcast("gsapifyRouter:enterStart",r),e.enter(r).then((function(e){t.$broadcast("gsapifyRouter:enterSuccess",r,e),a()}))),function(t){1===angular.version.major&&angular.version.minor<=3?!0===t&&r.remove():!1!==t&&r.remove()}},leave:function(r,a){"gsapifyRouterBlankState"!==r.attr("data-state")&&(t.$broadcast("gsapifyRouter:leaveStart",r),e.leave(r).then((function(e){t.$broadcast("gsapifyRouter:leaveSuccess",r,e),a()})))}}}])}()}}]);