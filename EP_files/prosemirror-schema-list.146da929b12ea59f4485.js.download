(self.webpackChunkep_web=self.webpackChunkep_web||[]).push([["../libs/wp/prosemirror-schema-list/prosemirror-schema-list"],{"./node_modules/prosemirror-schema-list/dist/index.es.js":function(e,t,r){"use strict";r.d(t,{Cx:function(){return addListNodes},IB:function(){return liftListItem},bw:function(){return sinkListItem},s6:function(){return splitListItem},KI:function(){return wrapInList}});var n=r("./node_modules/prosemirror-transform/dist/index.es.js"),o=r("./node_modules/prosemirror-model/dist/index.es.js"),i=["ol",0],a=["ul",0],d=["li",0],s={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function getAttrs(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function toDOM(e){return 1==e.attrs.order?i:["ol",{start:e.attrs.order},0]}},l={parseDOM:[{tag:"ul"}],toDOM:function toDOM(){return a}},p={parseDOM:[{tag:"li"}],toDOM:function toDOM(){return d},defining:!0};function add(e,t){var r={};for(var n in e)r[n]=e[n];for(var o in t)r[o]=t[o];return r}function addListNodes(e,t,r){return e.append({ordered_list:add(s,{content:"list_item+",group:r}),bullet_list:add(l,{content:"list_item+",group:r}),list_item:add(p,{content:t})})}function wrapInList(e,t){return function(r,i){var a=r.selection,d=a.$from,s=a.$to,l=d.blockRange(s),p=!1,c=l;if(!l)return!1;if(l.depth>=2&&d.node(l.depth-1).type.compatibleContent(e)&&0==l.startIndex){if(0==d.index(l.depth-1))return!1;var u=r.doc.resolve(l.start-2);c=new o.NodeRange(u,u,l.depth),l.endIndex<l.parent.childCount&&(l=new o.NodeRange(d,r.doc.resolve(s.end(l.depth)),l.depth)),p=!0}var f=(0,n.findWrapping)(c,e,t,l);return!!f&&(i&&i(function doWrapInList(e,t,r,i,a){for(var d=o.Fragment.empty,s=r.length-1;s>=0;s--)d=o.Fragment.from(r[s].type.create(r[s].attrs,d));e.step(new n.ReplaceAroundStep(t.start-(i?2:0),t.end,t.start,t.end,new o.Slice(d,0,0),r.length,!0));for(var l=0,p=0;p<r.length;p++)r[p].type==a&&(l=p+1);for(var c=r.length-l,u=t.start+r.length-(i?2:0),f=t.parent,m=t.startIndex,g=t.endIndex,h=!0;m<g;m++,h=!1)!h&&(0,n.canSplit)(e.doc,u,c)&&(e.split(u,c),u+=2*c),u+=f.child(m).nodeSize;return e}(r.tr,l,f,p,e).scrollIntoView()),!0)}}function splitListItem(e){return function(t,r){var i=t.selection,a=i.$from,d=i.$to,s=i.node;if(s&&s.isBlock||a.depth<2||!a.sameParent(d))return!1;var l=a.node(-1);if(l.type!=e)return!1;if(0==a.parent.content.size){if(2==a.depth||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(r){for(var p=o.Fragment.empty,c=a.index(-1)>0,u=a.depth-(c?1:2);u>=a.depth-3;u--)p=o.Fragment.from(a.node(u).copy(p));p=p.append(o.Fragment.from(e.createAndFill()));var f=t.tr.replace(a.before(c?null:-1),a.after(-3),new o.Slice(p,c?3:2,2));f.setSelection(t.selection.constructor.near(f.doc.resolve(a.pos+(c?3:2)))),r(f.scrollIntoView())}return!0}var m=d.pos==a.end()?l.contentMatchAt(0).defaultType:null,g=t.tr.delete(a.pos,d.pos),h=m&&[null,{type:m}];return!!(0,n.canSplit)(g.doc,a.pos,2,h)&&(r&&r(g.split(a.pos,2,h).scrollIntoView()),!0)}}function liftListItem(e){return function(t,r){var i=t.selection,a=i.$from,d=i.$to,s=a.blockRange(d,(function(t){return t.childCount&&t.firstChild.type==e}));return!!s&&(!r||(a.node(s.depth-1).type==e?function liftToOuterList(e,t,r,i){var a=e.tr,d=i.end,s=i.$to.end(i.depth);d<s&&(a.step(new n.ReplaceAroundStep(d-1,s,d,s,new o.Slice(o.Fragment.from(r.create(null,i.parent.copy())),1,0),1,!0)),i=new o.NodeRange(a.doc.resolve(i.$from.pos),a.doc.resolve(s),i.depth));return t(a.lift(i,(0,n.liftTarget)(i)).scrollIntoView()),!0}(t,r,e,s):function liftOutOfList(e,t,r){for(var i=e.tr,a=r.parent,d=r.end,s=r.endIndex-1,l=r.startIndex;s>l;s--)d-=a.child(s).nodeSize,i.delete(d-1,d+1);var p=i.doc.resolve(r.start),c=p.nodeAfter,u=0==r.startIndex,f=r.endIndex==a.childCount,m=p.node(-1),g=p.index(-1);if(!m.canReplace(g+(u?0:1),g+1,c.content.append(f?o.Fragment.empty:o.Fragment.from(a))))return!1;var h=p.pos,v=h+c.nodeSize;return i.step(new n.ReplaceAroundStep(h-(u?1:0),v+(f?1:0),h+1,v-1,new o.Slice((u?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))).append(f?o.Fragment.empty:o.Fragment.from(a.copy(o.Fragment.empty))),u?0:1,f?0:1),u?0:1)),t(i.scrollIntoView()),!0}(t,r,s)))}}function sinkListItem(e){return function(t,r){var i=t.selection,a=i.$from,d=i.$to,s=a.blockRange(d,(function(t){return t.childCount&&t.firstChild.type==e}));if(!s)return!1;var l=s.startIndex;if(0==l)return!1;var p=s.parent,c=p.child(l-1);if(c.type!=e)return!1;if(r){var u=c.lastChild&&c.lastChild.type==p.type,f=o.Fragment.from(u?e.create():null),m=new o.Slice(o.Fragment.from(e.create(null,o.Fragment.from(p.type.create(null,f)))),u?3:1,0),g=s.start,h=s.end;r(t.tr.step(new n.ReplaceAroundStep(g-(u?3:1),h,g,h,m,1,!0)).scrollIntoView())}return!0}}}}]);