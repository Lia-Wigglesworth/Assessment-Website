(self.webpackChunkep_web=self.webpackChunkep_web||[]).push([["../libs/wp/@pixi/graphics/graphics"],{"./node_modules/@pixi/graphics/lib/graphics.es.js":function(t,e,i){"use strict";i.d(e,{ft:function(){return c},wA:function(){return u},TC:function(){return I},iM:function(){return M},RB:function(){return C},$o:function(){return s},S:function(){return r},TD:function(){return E},yR:function(){return P}});var r,s,n=i("./node_modules/@pixi/core/lib/core.es.js"),a=i("./node_modules/@pixi/math/lib/math.es.js"),h=i("./node_modules/@pixi/utils/lib/utils.es.js"),o=i("./node_modules/@pixi/constants/lib/constants.es.js"),l=i("./node_modules/@pixi/display/lib/display.es.js");!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(r||(r={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(s||(s={}));var u={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},c=function(){function FillStyle(){this.color=16777215,this.alpha=1,this.texture=n.xE.WHITE,this.matrix=null,this.visible=!1,this.reset()}return FillStyle.prototype.clone=function(){var t=new FillStyle;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},FillStyle.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=n.xE.WHITE,this.matrix=null,this.visible=!1},FillStyle.prototype.destroy=function(){this.texture=null,this.matrix=null},FillStyle}(),extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function __extends(t,e){function __(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}var p={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,s=e.points,n=e.indices;if(i.length>=6){for(var a=[],o=0;o<r.length;o++){var l=r[o];a.push(i.length/2),i=i.concat(l.points)}var u=(0,h.earcut)(i,a,2);if(!u)return;var c=s.length/2;for(o=0;o<u.length;o+=3)n.push(u[o]+c),n.push(u[o+1]+c),n.push(u[o+2]+c);for(o=0;o<i.length;o++)s.push(i[o])}}},d={build:function(t){var e,i,r=t.shape,s=t.points,n=r.x,h=r.y;if(s.length=0,t.type===a.HS.CIRC)e=r.radius,i=r.radius;else{var o=t.shape;e=o.width,i=o.height}if(0!==e&&0!==i){var l=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(e+i));l/=2.3;for(var u=2*Math.PI/l,c=0;c<l-.5;c++)s.push(n+Math.sin(-u*c)*e,h+Math.cos(-u*c)*i);s.push(s[0],s[1])}},triangulate:function(t,e){var i=t.points,r=e.points,s=e.indices,n=r.length/2,a=n,h=t.shape,o=t.matrix,l=h.x,u=h.y;r.push(t.matrix?o.a*l+o.c*u+o.tx:l,t.matrix?o.b*l+o.d*u+o.ty:u);for(var c=0;c<i.length;c+=2)r.push(i[c],i[c+1]),s.push(n++,a,n)}},f={build:function(t){var e=t.shape,i=e.x,r=e.y,s=e.width,n=e.height,a=t.points;a.length=0,a.push(i,r,i+s,r,i+s,r+n,i,r+n)},triangulate:function(t,e){var i=t.points,r=e.points,s=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}};function getPt(t,e,i){return t+(e-t)*i}function quadraticBezierCurve(t,e,i,r,s,n,a){void 0===a&&(a=[]);for(var h=a,o=0,l=0,u=0,c=0,p=0,d=0,f=0,y=0;f<=20;++f)o=getPt(t,i,y=f/20),l=getPt(e,r,y),u=getPt(i,s,y),c=getPt(r,n,y),p=getPt(o,u,y),d=getPt(l,c,y),h.push(p,d);return h}var y={build:function(t){var e=t.shape,i=t.points,r=e.x,s=e.y,n=e.width,a=e.height,h=Math.max(0,Math.min(e.radius,Math.min(n,a)/2));i.length=0,h?(quadraticBezierCurve(r,s+h,r,s,r+h,s,i),quadraticBezierCurve(r+n-h,s,r+n,s,r+n,s+h,i),quadraticBezierCurve(r+n,s+a-h,r+n,s+a,r+n-h,s+a,i),quadraticBezierCurve(r+h,s+a,r,s+a,r,s+a-h,i)):i.push(r,s,r+n,s,r+n,s+a,r,s+a)},triangulate:function(t,e){for(var i=t.points,r=e.points,s=e.indices,n=r.length/2,a=(0,h.earcut)(i,null,2),o=0,l=a.length;o<l;o+=3)s.push(a[o]+n),s.push(a[o+1]+n),s.push(a[o+2]+n);for(o=0,l=i.length;o<l;o++)r.push(i[o],i[++o])}};function square(t,e,i,r,s,n,a,h){var o,l;a?(o=r,l=-i):(o=-r,l=i);var u=t-i*s+o,c=e-r*s+l,p=t+i*n+o,d=e+r*n+l;return h.push(u,c),h.push(p,d),2}function round(t,e,i,r,s,n,a,h){var o=i-t,l=r-e,u=Math.atan2(o,l),c=Math.atan2(s-t,n-e);h&&u<c?u+=2*Math.PI:!h&&u>c&&(c+=2*Math.PI);var p=u,d=c-u,f=Math.abs(d),y=Math.sqrt(o*o+l*l),g=1+(15*f*Math.sqrt(y)/Math.PI>>0),v=d/g;if(p+=v,h){a.push(t,e),a.push(i,r);for(var b=1,m=p;b<g;b++,m+=v)a.push(t,e),a.push(t+Math.sin(m)*y,e+Math.cos(m)*y);a.push(t,e),a.push(s,n)}else{a.push(i,r),a.push(t,e);for(b=1,m=p;b<g;b++,m+=v)a.push(t+Math.sin(m)*y,e+Math.cos(m)*y),a.push(t,e);a.push(s,n),a.push(t,e)}return 2*g}function buildLine(t,e){t.lineStyle.native?function buildNativeLine(t,e){var i=0,r=t.shape,s=t.points||r.points,n=r.type!==a.HS.POLY||r.closeStroke;if(0!==s.length){var h=e.points,o=e.indices,l=s.length/2,u=h.length/2,c=u;for(h.push(s[0],s[1]),i=1;i<l;i++)h.push(s[2*i],s[2*i+1]),o.push(c,c+1),c++;n&&o.push(c,u)}}(t,e):function buildNonNativeLine(t,e){var i=t.shape,n=t.points||i.points.slice(),h=e.closePointEps;if(0!==n.length){var o=t.lineStyle,l=new a.E9(n[0],n[1]),c=new a.E9(n[n.length-2],n[n.length-1]),p=i.type!==a.HS.POLY||i.closeStroke,d=Math.abs(l.x-c.x)<h&&Math.abs(l.y-c.y)<h;if(p){n=n.slice(),d&&(n.pop(),n.pop(),c.set(n[n.length-2],n[n.length-1]));var f=.5*(l.x+c.x),y=.5*(c.y+l.y);n.unshift(f,y),n.push(f,y)}var g=e.points,v=n.length/2,b=n.length,m=g.length/2,x=o.width/2,_=x*x,w=o.miterLimit*o.miterLimit,S=n[0],G=n[1],P=n[2],M=n[3],T=0,D=0,C=-(G-M),E=S-P,A=0,B=0,I=Math.sqrt(C*C+E*E);C/=I,E/=I,C*=x,E*=x;var L=o.alignment,U=2*(1-L),R=2*L;p||(o.cap===s.ROUND?b+=round(S-C*(U-R)*.5,G-E*(U-R)*.5,S-C*U,G-E*U,S+C*R,G+E*R,g,!0)+2:o.cap===s.SQUARE&&(b+=square(S,G,C,E,U,R,!0,g))),g.push(S-C*U,G-E*U),g.push(S+C*R,G+E*R);for(var O=1;O<v-1;++O){S=n[2*(O-1)],G=n[2*(O-1)+1],P=n[2*O],M=n[2*O+1],T=n[2*(O+1)],D=n[2*(O+1)+1],C=-(G-M),E=S-P,C/=I=Math.sqrt(C*C+E*E),E/=I,C*=x,E*=x,A=-(M-D),B=P-T,A/=I=Math.sqrt(A*A+B*B),B/=I,A*=x,B*=x;var j=P-S,F=G-M,z=P-T,H=D-M,N=F*z-H*j,q=N<0;if(Math.abs(N)<.1)g.push(P-C*U,M-E*U),g.push(P+C*R,M+E*R);else{var k=(-C+S)*(-E+M)-(-C+P)*(-E+G),Y=(-A+T)*(-B+M)-(-A+P)*(-B+D),Q=(j*Y-z*k)/N,V=(H*k-F*Y)/N,W=(Q-P)*(Q-P)+(V-M)*(V-M),Z=P+(Q-P)*U,X=M+(V-M)*U,$=P-(Q-P)*R,J=M-(V-M)*R,K=q?U:R;W<=Math.min(j*j+F*F,z*z+H*H)+K*K*_?o.join===r.BEVEL||W/_>w?(q?(g.push(Z,X),g.push(P+C*R,M+E*R),g.push(Z,X),g.push(P+A*R,M+B*R)):(g.push(P-C*U,M-E*U),g.push($,J),g.push(P-A*U,M-B*U),g.push($,J)),b+=2):o.join===r.ROUND?q?(g.push(Z,X),g.push(P+C*R,M+E*R),b+=round(P,M,P+C*R,M+E*R,P+A*R,M+B*R,g,!0)+4,g.push(Z,X),g.push(P+A*R,M+B*R)):(g.push(P-C*U,M-E*U),g.push($,J),b+=round(P,M,P-C*U,M-E*U,P-A*U,M-B*U,g,!1)+4,g.push(P-A*U,M-B*U),g.push($,J)):(g.push(Z,X),g.push($,J)):(g.push(P-C*U,M-E*U),g.push(P+C*R,M+E*R),o.join===r.BEVEL||W/_>w||(o.join===r.ROUND?b+=q?round(P,M,P+C*R,M+E*R,P+A*R,M+B*R,g,!0)+2:round(P,M,P-C*U,M-E*U,P-A*U,M-B*U,g,!1)+2:(q?(g.push($,J),g.push($,J)):(g.push(Z,X),g.push(Z,X)),b+=2)),g.push(P-A*U,M-B*U),g.push(P+A*R,M+B*R),b+=2)}}S=n[2*(v-2)],G=n[2*(v-2)+1],P=n[2*(v-1)],C=-(G-(M=n[2*(v-1)+1])),E=S-P,C/=I=Math.sqrt(C*C+E*E),E/=I,C*=x,E*=x,g.push(P-C*U,M-E*U),g.push(P+C*R,M+E*R),p||(o.cap===s.ROUND?b+=round(P-C*(U-R)*.5,M-E*(U-R)*.5,P-C*U,M-E*U,P+C*R,M+E*R,g,!1)+2:o.cap===s.SQUARE&&(b+=square(P,M,C,E,U,R,!1,g)));var tt=e.indices,et=u.epsilon*u.epsilon;for(O=m;O<b+m-2;++O)S=g[2*O],G=g[2*O+1],P=g[2*(O+1)],M=g[2*(O+1)+1],T=g[2*(O+2)],D=g[2*(O+2)+1],Math.abs(S*(M-D)+P*(D-G)+T*(G-M))<et||tt.push(O,O+1,O+2)}}(t,e)}var g,v=function(t){function Star(e,i,r,s,n,h){void 0===h&&(h=0);n=n||s/2;for(var o=-1*Math.PI/2+h,l=2*r,u=a._b/l,c=[],p=0;p<l;p++){var d=p%2?n:s,f=p*u+o;c.push(e+d*Math.cos(f),i+d*Math.sin(f))}return t.call(this,c)||this}return __extends(Star,t),Star}(a.mg),b=function(){function ArcUtils(){}return ArcUtils.curveTo=function(t,e,i,r,s,n){var a=n[n.length-2],h=n[n.length-1]-e,o=a-t,l=r-e,u=i-t,c=Math.abs(h*u-o*l);if(c<1e-8||0===s)return n[n.length-2]===t&&n[n.length-1]===e||n.push(t,e),null;var p=h*h+o*o,d=l*l+u*u,f=h*l+o*u,y=s*Math.sqrt(p)/c,g=s*Math.sqrt(d)/c,v=y*f/p,b=g*f/d,m=y*u+g*o,x=y*l+g*h,_=o*(g+v),w=h*(g+v),S=u*(y+b),G=l*(y+b);return{cx:m+t,cy:x+e,radius:s,startAngle:Math.atan2(w-x,_-m),endAngle:Math.atan2(G-x,S-m),anticlockwise:o*l>u*h}},ArcUtils.arc=function(t,e,i,r,s,n,h,o,l){for(var c=h-n,p=u._segmentsCount(Math.abs(c)*s,40*Math.ceil(Math.abs(c)/a._b)),d=c/(2*p),f=2*d,y=Math.cos(d),g=Math.sin(d),v=p-1,b=v%1/v,m=0;m<=v;++m){var x=d+n+f*(m+b*m),_=Math.cos(x),w=-Math.sin(x);l.push((y*_+g*w)*s+i,(y*-w+g*_)*s+r)}},ArcUtils}(),m=function(){function BezierUtils(){}return BezierUtils.curveLength=function(t,e,i,r,s,n,a,h){for(var o=0,l=0,u=0,c=0,p=0,d=0,f=0,y=0,g=0,v=0,b=0,m=t,x=e,_=1;_<=10;++_)v=m-(y=(f=(d=(p=1-(l=_/10))*p)*p)*t+3*d*l*i+3*p*(u=l*l)*s+(c=u*l)*a),b=x-(g=f*e+3*d*l*r+3*p*u*n+c*h),m=y,x=g,o+=Math.sqrt(v*v+b*b);return o},BezierUtils.curveTo=function(t,e,i,r,s,n,a){var h=a[a.length-2],o=a[a.length-1];a.length-=2;var l=u._segmentsCount(BezierUtils.curveLength(h,o,t,e,i,r,s,n)),c=0,p=0,d=0,f=0,y=0;a.push(h,o);for(var g=1,v=0;g<=l;++g)d=(p=(c=1-(v=g/l))*c)*c,y=(f=v*v)*v,a.push(d*h+3*p*v*t+3*c*f*i+y*s,d*o+3*p*v*e+3*c*f*r+y*n)},BezierUtils}(),x=function(){function QuadraticUtils(){}return QuadraticUtils.curveLength=function(t,e,i,r,s,n){var a=t-2*i+s,h=e-2*r+n,o=2*i-2*t,l=2*r-2*e,u=4*(a*a+h*h),c=4*(a*o+h*l),p=o*o+l*l,d=2*Math.sqrt(u+c+p),f=Math.sqrt(u),y=2*u*f,g=2*Math.sqrt(p),v=c/f;return(y*d+f*c*(d-g)+(4*p*u-c*c)*Math.log((2*f+v+d)/(v+g)))/(4*y)},QuadraticUtils.curveTo=function(t,e,i,r,s){for(var n=s[s.length-2],a=s[s.length-1],h=u._segmentsCount(QuadraticUtils.curveLength(n,a,t,e,i,r)),o=0,l=0,c=1;c<=h;++c){var p=c/h;o=n+(t-n)*p,l=a+(e-a)*p,s.push(o+(t+(i-t)*p-o)*p,l+(e+(r-e)*p-l)*p)}},QuadraticUtils}(),_=function(){function BatchPart(){this.reset()}return BatchPart.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},BatchPart.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},BatchPart.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},BatchPart}(),w=((g={})[a.HS.POLY]=p,g[a.HS.CIRC]=d,g[a.HS.ELIP]=d,g[a.HS.RECT]=f,g[a.HS.RREC]=y,g),S=[],G=[],P={buildPoly:p,buildCircle:d,buildRectangle:f,buildRoundedRectangle:y,FILL_COMMANDS:w,BATCH_POOL:S,DRAW_CALL_POOL:G,buildLine:buildLine,Star:v,ArcUtils:b,BezierUtils:m,QuadraticUtils:x,BatchPart:_},M=function(){function GraphicsData(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]}return GraphicsData.prototype.clone=function(){return new GraphicsData(this.shape,this.fillStyle,this.lineStyle,this.matrix)},GraphicsData.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},GraphicsData}(),T=new a.E9,D=new l.YZ,C=function(t){function GraphicsGeometry(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new l.YZ,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return __extends(GraphicsGeometry,t),Object.defineProperty(GraphicsGeometry.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),GraphicsGeometry.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),G.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),S.push(e)}this.batches.length=0},GraphicsGeometry.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},GraphicsGeometry.prototype.drawShape=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null);var s=new M(t,e,i,r);return this.graphicsData.push(s),this.dirty++,this},GraphicsGeometry.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var i=new M(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},GraphicsGeometry.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},GraphicsGeometry.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,T):T.copyFrom(t),r.shape.contains(T.x,T.y)))){var s=!1;if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].shape.contains(T.x,T.y)){s=!0;break}}if(!s)return!0}}return!1},GraphicsGeometry.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,r=null,s=null;this.batches.length>0&&(s=(r=this.batches[this.batches.length-1]).style);for(var n=this.shapeIndex;n<i.length;n++){this.shapeIndex++;var a=i[n],h=a.fillStyle,l=a.lineStyle;w[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var u=0;u<2;u++){var c=0===u?h:l;if(c.visible){var p=c.texture.baseTexture,d=this.indices.length,f=this.points.length/2;p.wrapMode=o.Nt.REPEAT,0===u?this.processFill(a):this.processLine(a);var y=this.points.length/2-f;0!==y&&(r&&!this._compareStyles(s,c)&&(r.end(d,f),r=null),r||((r=S.pop()||new _).begin(c,d,f),this.batches.push(r),s=c),this.addUvs(this.points,e,c.texture,f,y,c.matrix))}}}var g=this.indices.length,v=this.points.length/2;if(r&&r.end(g,v),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var b=v>65535&&t;this.indicesUint16=b?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},GraphicsGeometry.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},GraphicsGeometry.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,s=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(s&&!s.texture.baseTexture.valid)return!1}return!0},GraphicsGeometry.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],s=0;s<r.size;s++){var n=r.start+s;this.indicesUint16[n]=this.indicesUint16[n]-r.attribStart}},GraphicsGeometry.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*GraphicsGeometry.BATCHABLE_SIZE},GraphicsGeometry.prototype.buildDrawCalls=function(){for(var t=++n.VL._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),G.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,s=G.pop();s||((s=new n.a$).texArray=new n.Ie),s.texArray.count=0,s.start=0,s.size=0,s.type=o.lg.TRIANGLES;var a=0,h=null,l=0,u=!1,c=o.lg.TRIANGLES,p=0;this.drawCalls.push(s);for(e=0;e<this.batches.length;e++){var d=this.batches[e],f=d.style,y=f.texture.baseTexture;u!==!!f.native&&(c=(u=!!f.native)?o.lg.LINES:o.lg.TRIANGLES,h=null,a=8,t++),h!==y&&(h=y,y._batchEnabled!==t&&(8===a&&(t++,a=0,s.size>0&&((s=G.pop())||((s=new n.a$).texArray=new n.Ie),this.drawCalls.push(s)),s.start=p,s.size=0,s.texArray.count=0,s.type=c),y.touched=1,y._batchEnabled=t,y._batchLocation=a,y.wrapMode=10497,s.texArray.elements[s.texArray.count++]=y,a++)),s.size+=d.size,p+=d.size,l=y._batchLocation,this.addColors(i,f.color,f.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,l,d.attribSize,d.attribStart)}n.VL._globalBatch=t,this.packAttributes()},GraphicsGeometry.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,s=new ArrayBuffer(3*t.length*4),n=new Float32Array(s),a=new Uint32Array(s),h=0,o=0;o<t.length/2;o++)n[h++]=t[2*o],n[h++]=t[2*o+1],n[h++]=e[2*o],n[h++]=e[2*o+1],a[h++]=i[o],n[h++]=r[o];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},GraphicsGeometry.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),p.triangulate(t,this)):w[t.type].triangulate(t,this)},GraphicsGeometry.prototype.processLine=function(t){buildLine(t,this);for(var e=0;e<t.holes.length;e++)buildLine(t.holes[e],this)},GraphicsGeometry.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];w[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},GraphicsGeometry.prototype.calculateBounds=function(){var t=this._bounds,e=D,i=a.y3.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var s=this.graphicsData[r],n=s.shape,h=s.type,o=s.lineStyle,l=s.matrix||a.y3.IDENTITY,u=0;if(o&&o.visible){var c=o.alignment;u=o.width,h===a.HS.POLY?u*=.5+Math.abs(.5-c):u*=Math.max(0,c)}if(i!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=l),h===a.HS.RECT||h===a.HS.RREC){var p=n;e.addFramePad(p.x,p.y,p.x+p.width,p.y+p.height,u,u)}else if(h===a.HS.CIRC){var d=n;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+u,d.radius+u)}else if(h===a.HS.ELIP){var f=n;e.addFramePad(f.x,f.y,f.x,f.y,f.width+u,f.height+u)}else{var y=n;t.addVerticesMatrix(i,y.points,0,y.points.length,u,u)}}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},GraphicsGeometry.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],s=t[2*i+1];t[2*i]=e.a*r+e.c*s+e.tx,t[2*i+1]=e.b*r+e.d*s+e.ty}},GraphicsGeometry.prototype.addColors=function(t,e,i,r,s){void 0===s&&(s=0);var n=(e>>16)+(65280&e)+((255&e)<<16),a=(0,h.premultiplyTint)(n,i);t.length=Math.max(t.length,s+r);for(var o=0;o<r;o++)t[s+o]=a},GraphicsGeometry.prototype.addTextureIds=function(t,e,i,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+i);for(var s=0;s<i;s++)t[r+s]=e},GraphicsGeometry.prototype.addUvs=function(t,e,i,r,s,n){void 0===n&&(n=null);for(var a=0,h=e.length,o=i.frame;a<s;){var l=t[2*(r+a)],u=t[2*(r+a)+1];if(n){var c=n.a*l+n.c*u+n.tx;u=n.b*l+n.d*u+n.ty,l=c}a++,e.push(l/o.width,u/o.height)}var p=i.baseTexture;(o.width<p.width||o.height<p.height)&&this.adjustUvs(e,i,h,s)},GraphicsGeometry.prototype.adjustUvs=function(t,e,i,r){for(var s=e.baseTexture,n=1e-6,a=i+2*r,h=e.frame,o=h.width/s.width,l=h.height/s.height,u=h.x/h.width,c=h.y/h.height,p=Math.floor(t[i]+n),d=Math.floor(t[i+1]+n),f=i+2;f<a;f+=2)p=Math.min(p,Math.floor(t[f]+n)),d=Math.min(d,Math.floor(t[f+1]+n));u-=p,c-=d;for(f=i;f<a;f+=2)t[f]=(t[f]+u)*o,t[f+1]=(t[f+1]+c)*l},GraphicsGeometry.BATCHABLE_SIZE=100,GraphicsGeometry}(n.JZ),E=function(t){function LineStyle(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=s.BUTT,e.join=r.MITER,e.miterLimit=10,e}return __extends(LineStyle,t),LineStyle.prototype.clone=function(){var t=new LineStyle;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},LineStyle.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},LineStyle}(c),A=new Float32Array(3),B={},I=function(t){function Graphics(e){void 0===e&&(e=null);var i=t.call(this)||this;return i._geometry=e||new C,i._geometry.refCount++,i.shader=null,i.state=n.ZM.for2d(),i._fillStyle=new c,i._lineStyle=new E,i._matrix=null,i._holeMode=!1,i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i.pluginName="batch",i._transformID=-1,i.tint=16777215,i.blendMode=o.T$.NORMAL,i}return __extends(Graphics,t),Object.defineProperty(Graphics.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),Graphics.prototype.clone=function(){return this.finishPoly(),new Graphics(this._geometry)},Object.defineProperty(Graphics.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Graphics.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(Graphics.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(Graphics.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),Graphics.prototype.lineStyle=function(t){if(void 0===t&&(t=null),"number"==typeof t){var e=arguments;t={width:e[0]||0,color:e[1]||0,alpha:void 0!==e[2]?e[2]:1,alignment:void 0!==e[3]?e[3]:.5,native:!!e[4]}}return this.lineTextureStyle(t)},Graphics.prototype.lineTextureStyle=function(t){if("number"==typeof t){(0,h.deprecation)("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var e=arguments,i=e[0],a=e[1],o=e[2],l=e[3],u=e[4],c=e[5],p=e[6];t={width:i,texture:a,color:o,alpha:l,matrix:u,alignment:c,native:p},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({width:0,texture:n.xE.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:s.BUTT,join:r.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var d=t.width>0&&t.alpha>0;return d?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:d},t)):this._lineStyle.reset(),this},Graphics.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new a.mg,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new a.mg,this.currentPath.closeStroke=!1},Graphics.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},Graphics.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},Graphics.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],s=i[i.length-1];return r===t&&s===e||i.push(t,e),this},Graphics.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},Graphics.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var s=this.currentPath.points;return 0===s.length&&this.moveTo(0,0),x.curveTo(t,e,i,r,s),this},Graphics.prototype.bezierCurveTo=function(t,e,i,r,s,n){return this._initCurve(),m.curveTo(t,e,i,r,s,n,this.currentPath.points),this},Graphics.prototype.arcTo=function(t,e,i,r,s){this._initCurve(t,e);var n=this.currentPath.points,a=b.curveTo(t,e,i,r,s,n);if(a){var h=a.cx,o=a.cy,l=a.radius,u=a.startAngle,c=a.endAngle,p=a.anticlockwise;this.arc(h,o,l,u,c,p)}return this},Graphics.prototype.arc=function(t,e,i,r,s,n){if(void 0===n&&(n=!1),r===s)return this;if(!n&&s<=r?s+=a._b:n&&r<=s&&(r+=a._b),0===s-r)return this;var h=t+Math.cos(r)*i,o=e+Math.sin(r)*i,l=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var c=Math.abs(u[u.length-2]-h),p=Math.abs(u[u.length-1]-o);c<l&&p<l||u.push(h,o)}else this.moveTo(h,o),u=this.currentPath.points;return b.arc(h,o,t,e,i,r,s,n,u),this},Graphics.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:n.xE.WHITE,color:t,alpha:e})},Graphics.prototype.beginTextureFill=function(t){if(t instanceof n.xE){(0,h.deprecation)("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var e=arguments,i=e[0],r=e[1],s=e[2],a=e[3];t={texture:i,color:r,alpha:s,matrix:a},Object.keys(t).forEach((function(e){return void 0===t[e]&&delete t[e]}))}t=Object.assign({texture:n.xE.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var o=t.alpha>0;return o?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:o},t)):this._fillStyle.reset(),this},Graphics.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},Graphics.prototype.drawRect=function(t,e,i,r){return this.drawShape(new a.Ae(t,e,i,r))},Graphics.prototype.drawRoundedRect=function(t,e,i,r,s){return this.drawShape(new a.c9(t,e,i,r,s))},Graphics.prototype.drawCircle=function(t,e,i){return this.drawShape(new a.Cd(t,e,i))},Graphics.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new a.Pj(t,e,i,r))},Graphics.prototype.drawPolygon=function(){for(var t,e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var s=!0,n=i[0];n.points?(s=n.closeStroke,t=n.points):t=Array.isArray(i[0])?i[0]:i;var h=new a.mg(t);return h.closeStroke=s,this.drawShape(h),this},Graphics.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},Graphics.prototype.drawStar=function(t,e,i,r,s,n){return void 0===n&&(n=0),this.drawPolygon(new v(t,e,i,r,s,n))},Graphics.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},Graphics.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===a.HS.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},Graphics.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},Graphics.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var s=t.batches[r],n=s.style.color,a=new Float32Array(this.vertexData.buffer,4*s.attribStart*2,2*s.attribSize),o=new Float32Array(t.uvsFloat32.buffer,4*s.attribStart*2,2*s.attribSize),l={vertexData:a,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*s.start,s.size),uvs:o,_batchRGB:(0,h.hex2rgb)(n),_tintRGB:n,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[r]=l}},Graphics.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},Graphics.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,s=this.worldAlpha,n=e.uniforms,a=i.drawCalls;n.translationMatrix=this.transform.worldTransform,n.tint[0]=(r>>16&255)/255*s,n.tint[1]=(r>>8&255)/255*s,n.tint[2]=(255&r)/255*s,n.tint[3]=s,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var h=0,o=a.length;h<o;h++)this._renderDrawCallDirect(t,i.drawCalls[h])},Graphics.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,s=e.size,n=e.start,a=i.count,h=0;h<a;h++)t.texture.bind(i.elements[h],h);t.geometry.draw(r,s,n)},Graphics.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!B[i]){for(var r=t.plugins.batch.MAX_TEXTURES,s=new Int32Array(r),h=0;h<r;h++)s[h]=h;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new a.y3,default:n.oo.from({uSamplers:s},!0)},l=t.plugins[i]._shader.program;B[i]=new n.ex(l,o)}e=B[i]}return e},Graphics.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,i=e.minX,r=e.minY,s=e.maxX,n=e.maxY;this._bounds.addFrame(this.transform,i,r,s,n)}},Graphics.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,Graphics._TEMP_POINT),this._geometry.containsPoint(Graphics._TEMP_POINT)},Graphics.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=(0,h.hex2rgb)(this.tint,A),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,s=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(s>>16)+(65280&s)+((255&s)<<16)}}},Graphics.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,i=e.a,r=e.b,s=e.c,n=e.d,a=e.tx,h=e.ty,o=this._geometry.points,l=this.vertexData,u=0,c=0;c<o.length;c+=2){var p=o[c],d=o[c+1];l[u++]=i*p+s*d+a,l[u++]=n*d+r*p+h}}},Graphics.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},Graphics.prototype.setMatrix=function(t){return this._matrix=t,this},Graphics.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},Graphics.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},Graphics.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Graphics._TEMP_POINT=new a.E9,Graphics}(l.W2)}}]);